<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Virtual Simulation Lab for Chemistry Laboratory Experiments</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap');

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    color: #333;
    overflow-x: hidden;
  }

  .container {
    max-width: 1200px;
    margin: auto;
    padding: 20px;
  }

  header {
    text-align: center;
    margin-bottom: 30px;
  }
  header h1 {
    color: #1565c0;
    font-weight: 700;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
  }

  /* Login Page Styles */
  .login-page {
    height: 100vh;
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    overflow: hidden;
  }

  .login-bg-animation {
    position: absolute;
    width: 100%;
    height: 100%;
    z-index: 0;
  }

  .molecule {
    position: absolute;
    color: rgba(255,255,255,0.1);
    font-size: 60px;
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-20px); }
  }

  .login-box {
    background: rgba(255,255,255,0.95);
    padding: 40px;
    border-radius: 15px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    width: 400px;
    text-align: center;
    backdrop-filter: blur(10px);
    z-index: 1;
  }

  .login-box h2 {
    margin-bottom: 30px;
    color: #1565c0;
    font-weight: 700;
  }

  .input-group {
    position: relative;
    margin-bottom: 25px;
  }

  .login-box input {
    width: 100%;
    padding: 15px;
    border: 2px solid #e3f2fd;
    border-radius: 10px;
    font-size: 16px;
    transition: all 0.3s ease;
  }

  .login-box input:focus {
    border-color: #1976d2;
    outline: none;
    transform: scale(1.02);
  }

  .error-message {
    color: #d32f2f;
    font-size: 14px;
    margin-top: 5px;
    display: none;
  }

  .login-box button {
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    border: none;
    color: white;
    padding: 15px;
    border-radius: 10px;
    cursor: pointer;
    width: 100%;
    font-weight: 600;
    font-size: 16px;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(25,118,210,0.4);
  }

  .login-box button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(25,118,210,0.6);
  }

  .create-account {
    margin-top: 20px;
    font-size: 14px;
  }

  .create-account a {
    color: #1976d2;
    text-decoration: none;
    font-weight: 600;
  }

  /* Dashboard Styles */
  .dashboard {
    padding: 20px;
    animation: fadeIn 0.5s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .profile-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: white;
    padding: 15px 25px;
    border-radius: 15px;
    margin-bottom: 25px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  .profile-info {
    display: flex;
    align-items: center;
    gap: 15px;
  }

  .profile-avatar {
    width: 50px;
    height: 50px;
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: 700;
    font-size: 20px;
  }

  .logout-btn {
    background: linear-gradient(135deg, #d32f2f 0%, #f44336 100%);
    border: none;
    color: white;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
  }

  .logout-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 5px 15px rgba(211,47,47,0.4);
  }

  .search-bar {
    margin-bottom: 30px;
    text-align: center;
  }

  .search-bar input {
    width: 60%;
    max-width: 500px;
    padding: 15px 25px;
    border: 2px solid #e3f2fd;
    border-radius: 25px;
    font-size: 16px;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
  }

  .search-bar input:focus {
    outline: none;
    border-color: #1976d2;
    transform: scale(1.02);
  }

  .experiments-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 25px;
  }

  .experiment-card {
    background: white;
    border-radius: 20px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    padding: 25px;
    transition: all 0.3s ease;
    overflow: hidden;
    position: relative;
  }

  .experiment-card:hover {
    transform: translateY(-10px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.15);
  }

  .experiment-image {
    height: 150px;
    border-radius: 15px;
    margin-bottom: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    font-size: 60px;
    position: relative;
    overflow: hidden;
  }

  .experiment-title {
    font-weight: 600;
    margin-bottom: 15px;
    color: #1565c0;
    font-size: 18px;
    line-height: 1.3;
  }

  .start-btn {
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    font-weight: 600;
    border-radius: 10px;
    cursor: pointer;
    width: 100%;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(25,118,210,0.3);
  }

  .start-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(25,118,210,0.5);
  }

  /* Experiment Environment Styles */
  .experiment-env {
    display: grid;
    grid-template-columns: 250px 1fr 300px;
    gap: 25px;
    padding: 20px;
    animation: slideIn 0.5s ease-out;
  }

  @keyframes slideIn {
    from { opacity: 0; transform: translateX(-20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .left-panel, .right-panel, .center-panel {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
  }

  .section-title {
    font-weight: 700;
    margin-bottom: 20px;
    color: #1565c0;
    border-bottom: 3px solid #42a5f5;
    padding-bottom: 10px;
    font-size: 18px;
  }

  /* Dropdown Styles */
  .dropdown {
    position: relative;
    margin-bottom: 20px;
  }

  .dropdown-btn {
    width: 100%;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border: 2px solid #42a5f5;
    padding: 12px 15px;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    color: #1565c0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: all 0.3s ease;
  }

  .dropdown-btn:hover {
    background: linear-gradient(135deg, #bbdefb 0%, #90caf9 100%);
  }

  .dropdown-content {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border: 2px solid #42a5f5;
    border-top: none;
    border-radius: 0 0 10px 10px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 10;
    display: none;
  }

  .dropdown-content.show {
    display: block;
    animation: dropDown 0.3s ease-out;
  }

  @keyframes dropDown {
    from { opacity: 0; transform: translateY(-10px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .dropdown-item {
    padding: 12px 15px;
    cursor: pointer;
    border-bottom: 1px solid #e3f2fd;
    transition: background 0.3s ease;
    font-weight: 500;
  }

  .dropdown-item:hover {
    background: #e3f2fd;
    color: #1565c0;
  }

  .dropdown-item:last-child {
    border-bottom: none;
  }

  .periodic-btn {
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    padding: 15px;
    border-radius: 10px;
    color: white;
    border: none;
    cursor: pointer;
    font-weight: 700;
    width: 100%;
    margin-top: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(25,118,210,0.3);
  }

  .periodic-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(25,118,210,0.5);
  }

  /* Virtual Lab Desk */
  .virtual-lab-desk {
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border: 3px solid #9c27b0;
    border-radius: 15px;
    height: 250px;
    margin-bottom: 25px;
    position: relative;
    display: flex;
    justify-content: space-around;
    align-items: center;
    overflow: hidden;
  }

  .lab-equipment {
    font-size: 50px;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
  }

  .lab-equipment:hover {
    transform: scale(1.1) rotate(5deg);
    filter: drop-shadow(0 5px 15px rgba(0,0,0,0.3));
  }

  .equipment-label {
    position: absolute;
    bottom: -30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 12px;
    font-weight: 600;
    color: #1565c0;
    white-space: nowrap;
  }

  /* Input Areas */
  .inputs-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
  }

  .input-field {
    position: relative;
  }

  .input-field label {
    display: block;
    font-weight: 600;
    color: #1565c0;
    margin-bottom: 8px;
    font-size: 14px;
  }

  .input-field input {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #e3f2fd;
    border-radius: 10px;
    font-size: 16px;
    transition: all 0.3s ease;
  }

  .input-field input:focus {
    outline: none;
    border-color: #1976d2;
    transform: scale(1.02);
  }

  .actions-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
    margin-bottom: 25px;
  }

  .action-btn {
    background: linear-gradient(135deg, #4caf50 0%, #66bb6a 100%);
    border: none;
    color: white;
    padding: 15px;
    font-weight: 700;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(76,175,80,0.3);
  }

  .action-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(76,175,80,0.5);
  }

  .action-btn.procedure-btn {
    background: linear-gradient(135deg, #ff9800 0%, #ffb74d 100%);
    box-shadow: 0 5px 15px rgba(255,152,0,0.3);
  }

  .action-btn.procedure-btn:hover {
    box-shadow: 0 8px 25px rgba(255,152,0,0.5);
  }

  /* Result Visualization */
  .result-visualization {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 3px solid #6c757d;
    border-radius: 15px;
    padding: 25px;
    min-height: 120px;
    font-weight: 600;
    position: relative;
    overflow: hidden;
    margin-bottom: 25px;
  }

  .reaction-animation {
    position: absolute;
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    display: none;
  }

  .bubble {
    position: absolute;
    border-radius: 50%;
    background: rgba(66,165,245,0.7);
    animation: bubble 2s infinite ease-in-out;
  }

  @keyframes bubble {
    0% { transform: translateY(100%) scale(0); opacity: 1; }
    100% { transform: translateY(-100%) scale(1); opacity: 0; }
  }

  .formula-display {
    background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
    border: 2px solid #ff9800;
    border-radius: 10px;
    padding: 15px;
    margin-top: 15px;
    font-family: 'Courier New', monospace;
    font-size: 18px;
    font-weight: bold;
    color: #e65100;
    text-align: center;
    display: none;
  }

  /* Performance Score */
  .performance-score {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
    font-size: 18px;
    font-weight: 700;
    color: #1565c0;
    background: linear-gradient(135deg, #fff9c4 0%, #fff59d 100%);
    padding: 15px;
    border-radius: 10px;
    border: 2px solid #ffc107;
  }

  .star {
    color: #ffc107;
    font-size: 24px;
    transition: all 0.3s ease;
  }

  .star.filled {
    animation: starGlow 1s ease-in-out;
  }

  @keyframes starGlow {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); filter: drop-shadow(0 0 10px #ffc107); }
  }

  /* Enhanced Periodic Table Modal */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100vw;
    height: 100vh;
    background-color: rgba(0,0,0,0.8);
    backdrop-filter: blur(5px);
  }

  .modal-content {
    background: white;
    margin: 2% auto;
    padding: 30px;
    border-radius: 20px;
    max-width: 95%;
    max-height: 95%;
    overflow-y: auto;
    position: relative;
    animation: modalSlide 0.3s ease-out;
  }

  @keyframes modalSlide {
    from { opacity: 0; transform: scale(0.7); }
    to { opacity: 1; transform: scale(1); }
  }

  .modal-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 25px;
    border-bottom: 3px solid #1976d2;
    padding-bottom: 15px;
  }

  .modal-title {
    font-size: 28px;
    font-weight: 700;
    color: #1565c0;
  }

  .modal-close {
    cursor: pointer;
    color: #d32f2f;
    font-size: 35px;
    font-weight: bold;
    width: 50px;
    height: 50px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
  }

  .modal-close:hover {
    background: rgba(211,47,47,0.1);
    transform: scale(1.1);
  }

  .periodic-table {
    display: grid;
    grid-template-columns: repeat(18, 1fr);
    gap: 3px;
    max-width: 100%;
    margin: 0 auto;
  }

  .element {
    aspect-ratio: 1;
    background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
    border: 2px solid #42a5f5;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transition: all 0.3s ease;
    position: relative;
    min-width: 45px;
    min-height: 45px;
  }

  .element:hover {
    background: linear-gradient(135deg, #1976d2 0%, #42a5f5 100%);
    color: white;
    transform: scale(1.1);
    z-index: 10;
    box-shadow: 0 10px 25px rgba(25,118,210,0.4);
  }

  .atomic-number {
    font-size: 10px;
    font-weight: 600;
    line-height: 1;
  }

  .symbol {
    font-size: 16px;
    font-weight: 700;
    line-height: 1;
  }

  .element-name {
    font-size: 8px;
    font-weight: 500;
    line-height: 1;
    text-align: center;
  }

  /* Element Info Panel */
  .element-info {
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border: 2px solid #6c757d;
    border-radius: 15px;
    padding: 20px;
    margin-top: 20px;
    display: none;
  }

  .element-info.show {
    display: block;
    animation: fadeIn 0.3s ease-in;
  }

  .element-details {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
  }

  .detail-item {
    background: white;
    padding: 10px 15px;
    border-radius: 8px;
    border-left: 4px solid #1976d2;
  }

  .detail-label {
    font-weight: 600;
    color: #1565c0;
    font-size: 14px;
  }

  .detail-value {
    font-weight: 700;
    color: #333;
    font-size: 16px;
  }

  /* Procedure Panel */
  .procedure-panel {
    background: white;
    border-radius: 20px;
    padding: 25px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
    animation: slideInRight 0.5s ease-out;
  }

  @keyframes slideInRight {
    from { opacity: 0; transform: translateX(20px); }
    to { opacity: 1; transform: translateX(0); }
  }

  .steps-list {
    list-style: none;
    counter-reset: step-counter;
  }

  .steps-list li {
    counter-increment: step-counter;
    margin-bottom: 15px;
    padding: 15px 20px;
    background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
    border-radius: 10px;
    border-left: 4px solid #9c27b0;
    position: relative;
    font-weight: 500;
    line-height: 1.5;
  }

  .steps-list li:before {
    content: counter(step-counter);
    position: absolute;
    left: -15px;
    top: 50%;
    transform: translateY(-50%);
    background: #9c27b0;
    color: white;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 14px;
  }

  .back-btn {
    background: linear-gradient(135deg, #6c757d 0%, #868e96 100%);
    color: white;
    border: none;
    padding: 12px 25px;
    border-radius: 10px;
    font-weight: 700;
    cursor: pointer;
    margin-top: 20px;
    transition: all 0.3s ease;
    box-shadow: 0 5px 15px rgba(108,117,125,0.3);
  }

  .back-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 25px rgba(108,117,125,0.5);
  }

  /* Responsive Design */
  @media (max-width: 768px) {
    .experiment-env {
      grid-template-columns: 1fr;
      grid-template-rows: auto auto auto;
    }
    
    .experiments-grid {
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
    
    .periodic-table {
      grid-template-columns: repeat(9, 1fr);
    }
  }
</style>
</head>
<body>

<!-- Login Page -->
<div class="login-page" id="loginPage">
  <div class="login-bg-animation">
    <div class="molecule" style="top: 10%; left: 10%;">üß™</div>
    <div class="molecule" style="top: 20%; right: 15%; animation-delay: 2s;">‚öóÔ∏è</div>
    <div class="molecule" style="bottom: 15%; left: 20%; animation-delay: 4s;">üî¨</div>
    <div class="molecule" style="bottom: 25%; right: 10%; animation-delay: 1s;">‚öõÔ∏è</div>
  </div>
  <div class="login-box">
    <h2>Virtual Simulation Lab for Chemistry Laboratory Experiments</h2>
    <div class="input-group">
      <input type="email" placeholder="Email Address" id="loginEmail" />
      <div class="error-message" id="emailError">Please enter a valid email address</div>
    </div>
    <div class="input-group">
      <input type="password" placeholder="Password" id="loginPassword" />
      <div class="error-message" id="passwordError">Password is required</div>
    </div>
    <button id="loginBtn">Login to Lab</button>
    <div class="create-account">
      Don't have an account? <a href="#" id="showSignup">Create New Account</a>
    </div>
  </div>
</div>

<!-- Signup Page -->
<div class="login-page" id="signupPage" style="display:none;">
  <div class="login-bg-animation">
    <div class="molecule" style="top: 10%; left: 10%;">üß™</div>
    <div class="molecule" style="top: 20%; right: 15%; animation-delay: 2s;">‚öóÔ∏è</div>
    <div class="molecule" style="bottom: 15%; left: 20%; animation-delay: 4s;">üî¨</div>
    <div class="molecule" style="bottom: 25%; right: 10%; animation-delay: 1s;">‚öõÔ∏è</div>
  </div>
  <div class="login-box">
    <h2>Join the Chemistry Lab</h2>
    <div class="input-group">
      <input type="text" placeholder="Full Name" id="signupName" />
      <div class="error-message" id="nameError">Full name is required</div>
    </div>
    <div class="input-group">
      <input type="email" placeholder="Email Address" id="signupEmail" />
      <div class="error-message" id="signupEmailError">Please enter a valid email address</div>
    </div>
    <div class="input-group">
      <input type="password" placeholder="Create Password" id="signupPassword" />
      <div class="error-message" id="signupPasswordError">Password must be at least 6 characters</div>
    </div>
    <button id="signupBtn">Create Account</button>
    <div class="create-account">
      Already have an account? <a href="#" id="showLogin">Sign In</a>
    </div>
  </div>
</div>

<!-- Dashboard -->
<div class="container" id="dashboardPage" style="display:none;">
  <header>
    <h1>Virtual Chemistry Simulation Laboratory</h1>
  </header>
  <div class="profile-bar">
    <div class="profile-info">
      <div class="profile-avatar" id="profileAvatar">JD</div>
      <div>
        <div class="profile-name" id="studentName">Student Name</div>
        <div style="font-size: 14px; color: #666;">Chemistry Student</div>
      </div>
    </div>
    <button class="logout-btn" id="logoutBtn">Logout</button>
  </div>
  <div class="search-bar">
    <input type="text" id="searchExperiments" placeholder="üîç Search experiments..." />
  </div>
  <div class="experiments-grid" id="experimentsGrid">
    <!-- Experiment cards will be populated here -->
  </div>
</div>

<!-- Experiment Environment -->
<div class="container" id="experimentPage" style="display:none;">
  <header>
    <h1 id="experimentTitle">Experiment Title</h1>
  </header>
  <button class="back-btn" id="backToHomeBtn" onclick="backToHome()">üè† Go to Home</button>
  <div class="experiment-env">
    <div class="left-panel">
      <div class="section-title">Chemical Solutions</div>
      
      <div class="dropdown" id="acidsDropdown">
        <button class="dropdown-btn" onclick="toggleDropdown('acids')">
          Select Acid <span>‚ñº</span>
        </button>
        <div class="dropdown-content" id="acidsContent">
          <!-- Acids will be populated here -->
        </div>
      </div>

      <div class="dropdown" id="basesDropdown">
        <button class="dropdown-btn" onclick="toggleDropdown('bases')">
          Select Base <span>‚ñº</span>
        </button>
        <div class="dropdown-content" id="basesContent">
          <!-- Bases will be populated here -->
        </div>
      </div>

      <button class="periodic-btn" id="openPeriodicBtn">üî¨ Periodic Table</button>
    </div>

    <div class="center-panel">
      <div class="virtual-lab-desk" id="labDesk">
        <!-- Lab equipment will be populated based on experiment -->
      </div>
      
      <div class="inputs-grid">
        <div class="input-field">
          <label>Volume (mL)</label>
          <input type="number" id="volumeInput" placeholder="50" step="0.1" min="0" />
        </div>
        <div class="input-field">
          <label>Concentration (M)</label>
          <input type="number" id="concentrationInput" placeholder="0.1" step="0.01" min="0" />
        </div>
        <div class="input-field">
          <label>Temperature (¬∞C)</label>
          <input type="number" id="temperatureInput" placeholder="25" step="0.1" />
        </div>
      </div>

      <div class="actions-row">
        <button class="action-btn" id="startReactionBtn">üß™ Start Reaction</button>
        <button class="action-btn procedure-btn" id="viewProcedureBtn">üìã View Procedure</button>
      </div>

      <div class="result-visualization" id="resultVisualization">
        <div style="text-align: center; color: #666; font-size: 18px;">
          ‚öóÔ∏è Ready to begin experiment
        </div>
        <div class="reaction-animation" id="reactionAnimation">
          <!-- Animated bubbles will be added here -->
        </div>
        <div class="formula-display" id="formulaDisplay">
          <!-- Chemical formula will appear here -->
        </div>
      </div>

      <div class="performance-score" id="performanceScore">
        <span>Performance Score:</span>
        <span class="star" id="star1">‚òÜ</span>
        <span class="star" id="star2">‚òÜ</span>
        <span class="star" id="star3">‚òÜ</span>
        <span class="star" id="star4">‚òÜ</span>
        <span class="star" id="star5">‚òÜ</span>
      </div>
    </div>

    <div class="procedure-panel" id="procedurePanel" style="display:none;">
      <div class="section-title">Experiment Procedure</div>
      <ol class="steps-list" id="procedureSteps">
        <!-- Steps will be populated here -->
      </ol>
      <button class="back-btn" id="backToExperimentBtn">‚Üê Back to Simulation</button>
    </div>
  </div>
</div>

<!-- Enhanced Periodic Table Modal -->
<div id="periodicModal" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <div class="modal-title">Interactive Periodic Table</div>
      <span class="modal-close" id="closePeriodicBtn">&times;</span>
    </div>
    <div class="periodic-table" id="periodicTableGrid">
      <!-- Periodic table elements will be generated here -->
    </div>
    <div class="element-info" id="elementInfo">
      <h3 id="selectedElementName">Select an element to view details</h3>
      <div class="element-details" id="elementDetails">
        <!-- Element details will be shown here -->
      </div>
    </div>
  </div>
</div>

<script>
  // Back to Home (Dashboard)
function backToHome() {
  experimentPage.style.display = 'none';
  dashboardPage.style.display = 'block';
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// Email validation function
function validateEmail(email) {
  const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
  return emailRegex.test(email);
}

// Experiment data with unique configurations
const experiments = [
  {
    id: 1,
    title: "Determination of Hardness of a groundwater sample",
    image: "üöø",
    bgColor: "linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%)",
    equipment: ["üß™", "üíß", "üî¨", "üìè"],
    acids: ["HCl", "H‚ÇÇSO‚ÇÑ"],
    bases: ["NaOH", "EDTA"],
    formula: "Ca¬≤‚Å∫ + EDTA‚Å¥‚Åª ‚Üí [CaEDTA]¬≤‚Åª"
  },
  {
    id: 2,
    title: "Conduct metric titration of strong acid vs. strong base",
    image: "‚öñÔ∏è",
    bgColor: "linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)",
    equipment: ["üß™", "üíß", "üìè", "üå°Ô∏è"],
    acids: ["HCl", "HNO‚ÇÉ", "H‚ÇÇSO‚ÇÑ"],
    bases: ["NaOH", "KOH"],
    formula: "HCl + NaOH ‚Üí NaCl + H‚ÇÇO"
  },
  {
    id: 3,
    title: "Conduct metric titration of weak acid vs. strong base",
    image: "üçã",
    bgColor: "linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%)",
    equipment: ["üß™", "üíß", "üìè", "üå°Ô∏è"],
    acids: ["CH‚ÇÉCOOH", "HCOOH", "C‚ÇÜH‚ÇÖCOOH"],
    bases: ["NaOH", "KOH"],
    formula: "CH‚ÇÉCOOH + NaOH ‚Üí CH‚ÇÉCOONa + H‚ÇÇO"
  },
  {
    id: 4,
    title: "Preparation of Nano particles (Cu/Zn)",
    image: "‚öõÔ∏è",
    bgColor: "linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)",
    equipment: ["üß™", "üî¨", "üå°Ô∏è", "‚ö°"],
    acids: ["HCl", "HNO‚ÇÉ"],
    bases: ["NaOH", "NH‚ÇÑOH"],
    formula: "Cu¬≤‚Å∫ + 2OH‚Åª ‚Üí Cu(OH)‚ÇÇ ‚Üí CuO + H‚ÇÇO"
  },
  {
    id: 5,
    title: "Determination of Vitamin-C",
    image: "üçä",
    bgColor: "linear-gradient(135deg, #fff8e1 0%, #ffecb3 100%)",
    equipment: ["üß™", "üíß", "üìè", "üî¨"],
    acids: ["Ascorbic Acid"],
    bases: ["I‚ÇÇ solution", "KIO‚ÇÉ"],
    formula: "C‚ÇÜH‚ÇàO‚ÇÜ + I‚ÇÇ ‚Üí C‚ÇÜH‚ÇÜO‚ÇÜ + 2HI"
  },
  {
    id: 6,
    title: "Estimation of KMnO‚ÇÑ by using standard oxalic acid solution",
    image: "üíú",
    bgColor: "linear-gradient(135deg, #fce4ec 0%, #f8bbd9 100%)",
    equipment: ["üß™", "üíß", "üìè", "üå°Ô∏è"],
    acids: ["H‚ÇÇC‚ÇÇO‚ÇÑ", "H‚ÇÇSO‚ÇÑ"],
    bases: ["KMnO‚ÇÑ"],
    formula: "5H‚ÇÇC‚ÇÇO‚ÇÑ + 2KMnO‚ÇÑ + 3H‚ÇÇSO‚ÇÑ ‚Üí 10CO‚ÇÇ + 2MnSO‚ÇÑ + K‚ÇÇSO‚ÇÑ + 8H‚ÇÇO"
  },
  {
    id: 7,
    title: "Preparation of Phenol-formaldehyde resin (Bakelite)",
    image: "üß±",
    bgColor: "linear-gradient(135deg, #efebe9 0%, #d7ccc8 100%)",
    equipment: ["üß™", "üå°Ô∏è", "‚öóÔ∏è", "üî•"],
    acids: ["Phenol", "HCHO"],
    bases: ["NaOH", "NH‚ÇÉ"],
    formula: "C‚ÇÜH‚ÇÖOH + CH‚ÇÇO ‚Üí [-C‚ÇÜH‚ÇÑOH-CH‚ÇÇ-]‚Çô"
  },
  {
    id: 8,
    title: "Determination of total alkalinity of given sample of water",
    image: "üö∞",
    bgColor: "linear-gradient(135deg, #e0f2f1 0%, #b2dfdb 100%)",
    equipment: ["üß™", "üíß", "üìè", "üî¨"],
    acids: ["HCl", "H‚ÇÇSO‚ÇÑ"],
    bases: ["OH‚Åª", "CO‚ÇÉ¬≤‚Åª", "HCO‚ÇÉ‚Åª"],
    formula: "OH‚Åª + HCl ‚Üí H‚ÇÇO + Cl‚Åª"
  },
  {
    id: 9,
    title: "Wavelength measurement of sample through UV-Visible Spectroscopy",
    image: "üåà",
    bgColor: "linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%)",
    equipment: ["üì°", "üí°", "üî¨", "üìä"],
    acids: ["Sample solutions"],
    bases: ["Buffer solutions"],
    formula: "A = Œµbc (Beer-Lambert Law)"
  },
  {
    id: 10,
    title: "Identification of simple organic compounds by IR",
    image: "üîç",
    bgColor: "linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)",
    equipment: ["üì°", "üî¨", "üíø", "üìä"],
    acids: ["Organic samples"],
    bases: ["Reference compounds"],
    formula: "IR absorption: functional group identification"
  },
  {
    id: 11,
    title: "Preparation of nano materials by precipitation method",
    image: "üíé",
    bgColor: "linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%)",
    equipment: ["üß™", "üå°Ô∏è", "‚öóÔ∏è", "üî¨"],
    acids: ["Metal salts", "HCl"],
    bases: ["NaOH", "NH‚ÇÑOH"],
    formula: "M¬≤‚Å∫ + 2OH‚Åª ‚Üí M(OH)‚ÇÇ ‚Üì"
  },
  {
    id: 12,
    title: "Estimation of Ferrous Iron by Dichrometry",
    image: "üü†",
    bgColor: "linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%)",
    equipment: ["üß™", "üíß", "üìè", "üî¨"],
    acids: ["H‚ÇÇSO‚ÇÑ", "H‚ÇÉPO‚ÇÑ"],
    bases: ["K‚ÇÇCr‚ÇÇO‚Çá"],
    formula: "6Fe¬≤‚Å∫ + Cr‚ÇÇO‚Çá¬≤‚Åª + 14H‚Å∫ ‚Üí 6Fe¬≥‚Å∫ + 2Cr¬≥‚Å∫ + 7H‚ÇÇO"
  }
];

// Complete acids and bases database
const allAcids = [
  "HCl", "H‚ÇÇSO‚ÇÑ", "HNO‚ÇÉ", "CH‚ÇÉCOOH", "HCOOH", "C‚ÇÜH‚ÇÖCOOH", 
  "H‚ÇÉPO‚ÇÑ", "HF", "HBr", "HI", "H‚ÇÇC‚ÇÇO‚ÇÑ", "C‚ÇÜH‚ÇàO‚ÇÜ", "Phenol"
];

const allBases = [
  "NaOH", "KOH", "NH‚ÇÑOH", "Ca(OH)‚ÇÇ", "Mg(OH)‚ÇÇ", "Ba(OH)‚ÇÇ",
  "EDTA", "Na‚ÇÇCO‚ÇÉ", "NaHCO‚ÇÉ", "K‚ÇÇCr‚ÇÇO‚Çá", "KMnO‚ÇÑ", "I‚ÇÇ"
];

// Detailed procedures for each experiment
const procedures = {
  1: [
    "Collect 100mL groundwater sample in a clean conical flask",
    "Add 2-3 drops of Eriochrome Black T indicator",
    "Fill burette with standardized EDTA solution (0.01M)",
    "Titrate slowly with constant stirring until color changes from wine red to blue",
    "Note the burette reading and calculate hardness in ppm",
    "Repeat the process for accuracy and take average reading"
  ],
  2: [
    "Take 25mL of HCl solution in a conical flask using pipette",
    "Add 2-3 drops of phenolphthalein indicator",
    "Fill burette with standardized NaOH solution (0.1M)",
    "Titrate slowly with constant stirring until pale pink color appears",
    "Note the endpoint volume of NaOH used",
    "Calculate molarity of HCl using M‚ÇÅV‚ÇÅ = M‚ÇÇV‚ÇÇ"
  ],
  3: [
    "Take 25mL of acetic acid solution in a conical flask",
    "Add 2-3 drops of phenolphthalein indicator",
    "Fill burette with standardized NaOH solution (0.1M)",
    "Titrate slowly until persistent pale pink color appears",
    "The endpoint will be less sharp than strong acid-strong base",
    "Calculate concentration and Ka value of weak acid"
  ],
  4: [
    "Prepare 0.1M copper sulfate solution in distilled water",
    "Heat the solution to 60-70¬∞C with constant stirring",
    "Slowly add NaOH solution dropwise until blue precipitate forms",
    "Continue heating for 30 minutes to promote nanoparticle formation",
    "Cool and centrifuge to separate nanoparticles",
    "Wash with distilled water and analyze particle size"
  ],
  5: [
    "Extract vitamin C from citrus fruit or take standard ascorbic acid",
    "Prepare sample solution by diluting with distilled water",
    "Fill burette with standardized iodine solution",
    "Add starch indicator to the sample solution",
    "Titrate until blue-black color appears and persists",
    "Calculate vitamin C content using stoichiometric calculations"
  ],
  6: [
    "Take 25mL of oxalic acid solution in a conical flask",
    "Add 10mL of dilute sulfuric acid",
    "Heat the solution to 60-70¬∞C",
    "Fill burette with KMnO‚ÇÑ solution",
    "Titrate slowly until pale pink color persists for 30 seconds",
    "Calculate concentration of KMnO‚ÇÑ solution"
  ],
  7: [
    "Mix phenol and formaldehyde in 1:1.5 molar ratio",
    "Add catalytic amount of NaOH solution",
    "Heat the mixture at 100-120¬∞C with stirring",
    "Continue heating until viscous resin forms",
    "Cool and test mechanical properties",
    "Analyze the cross-linked polymer structure"
  ],
  8: [
    "Take 100mL water sample in a conical flask",
    "Add 2-3 drops of methyl orange indicator",
    "Fill burette with standardized HCl solution (0.02N)",
    "Titrate until orange color appears (pH 4.3)",
    "Note the volume for phenolphthalein alkalinity",
    "Calculate total alkalinity in mg/L as CaCO‚ÇÉ"
  ],
  9: [
    "Prepare sample solution of known concentration",
    "Set UV-Visible spectrophotometer to scan mode",
    "Use matched quartz cuvettes for sample and reference",
    "Record absorption spectrum from 200-800 nm",
    "Identify Œªmax (wavelength of maximum absorption)",
    "Apply Beer-Lambert law for quantitative analysis"
  ],
  10: [
    "Prepare sample by mixing with KBr and making pellet",
    "Set IR spectrometer to scan 4000-400 cm‚Åª¬π range",
    "Place sample in IR beam path",
    "Record IR spectrum and identify functional groups",
    "Compare with reference spectra for structural elucidation",
    "Interpret peaks for C-H, O-H, C=O, and other bonds"
  ],
  11: [
    "Dissolve metal salt in distilled water to make 0.1M solution",
    "Prepare precipitating agent (NaOH) solution separately",
    "Add precipitating agent dropwise with vigorous stirring",
    "Control pH to optimize nanoparticle size",
    "Age the precipitate for controlled growth",
    "Filter, wash, and dry the nanomaterial"
  ],
  12: [
    "Take 25mL of ferrous iron solution in conical flask",
    "Add 10mL each of dilute H‚ÇÇSO‚ÇÑ and H‚ÇÉPO‚ÇÑ",
    "Fill burette with standardized K‚ÇÇCr‚ÇÇO‚Çá solution",
    "Titrate slowly until color changes from green to yellow-orange",
    "Note the endpoint volume accurately",
    "Calculate Fe¬≤‚Å∫ concentration using stoichiometry"
  ]
};

// Periodic table elements data (first 118 elements)
const periodicElements = [
  {symbol: "H", number: 1, name: "Hydrogen", mass: "1.008", group: 1, period: 1},
  {symbol: "He", number: 2, name: "Helium", mass: "4.003", group: 18, period: 1},
  {symbol: "Li", number: 3, name: "Lithium", mass: "6.941", group: 1, period: 2},
  {symbol: "Be", number: 4, name: "Beryllium", mass: "9.012", group: 2, period: 2},
  {symbol: "B", number: 5, name: "Boron", mass: "10.81", group: 13, period: 2},
  {symbol: "C", number: 6, name: "Carbon", mass: "12.01", group: 14, period: 2},
  {symbol: "N", number: 7, name: "Nitrogen", mass: "14.01", group: 15, period: 2},
  {symbol: "O", number: 8, name: "Oxygen", mass: "16.00", group: 16, period: 2},
  {symbol: "F", number: 9, name: "Fluorine", mass: "19.00", group: 17, period: 2},
  {symbol: "Ne", number: 10, name: "Neon", mass: "20.18", group: 18, period: 2},
  {symbol: "Na", number: 11, name: "Sodium", mass: "22.99", group: 1, period: 3},
  {symbol: "Mg", number: 12, name: "Magnesium", mass: "24.31", group: 2, period: 3},
  {symbol: "Al", number: 13, name: "Aluminum", mass: "26.98", group: 13, period: 3},
  {symbol: "Si", number: 14, name: "Silicon", mass: "28.09", group: 14, period: 3},
  {symbol: "P", number: 15, name: "Phosphorus", mass: "30.97", group: 15, period: 3},
  {symbol: "S", number: 16, name: "Sulfur", mass: "32.06", group: 16, period: 3},
  {symbol: "Cl", number: 17, name: "Chlorine", mass: "35.45", group: 17, period: 3},
  {symbol: "Ar", number: 18, name: "Argon", mass: "39.95", group: 18, period: 3},
  {symbol: "K", number: 19, name: "Potassium", mass: "39.10", group: 1, period: 4},
  {symbol: "Ca", number: 20, name: "Calcium", mass: "40.08", group: 2, period: 4}
  // Add more elements as needed...
];

// Current state
let selectedExperimentId = null;
let currentUser = null;

// DOM elements
const loginPage = document.getElementById('loginPage');
const signupPage = document.getElementById('signupPage');
const dashboardPage = document.getElementById('dashboardPage');
const experimentPage = document.getElementById('experimentPage');
const experimentsGrid = document.getElementById('experimentsGrid');
const studentNameEl = document.getElementById('studentName');
const profileAvatar = document.getElementById('profileAvatar');

// Initialize the application
document.addEventListener('DOMContentLoaded', function() {
  setupEventListeners();
  generatePeriodicTable();
});

// Setup all event listeners
function setupEventListeners() {
  // Login functionality
  document.getElementById('loginBtn').addEventListener('click', handleLogin);
  document.getElementById('signupBtn').addEventListener('click', handleSignup);
  document.getElementById('showSignup').addEventListener('click', showSignupPage);
  document.getElementById('showLogin').addEventListener('click', showLoginPage);
  document.getElementById('logoutBtn').addEventListener('click', handleLogout);
  
  // Search functionality
  document.getElementById('searchExperiments').addEventListener('input', handleSearch);
  
  // Experiment functionality
  document.getElementById('startReactionBtn').addEventListener('click', startReaction);
  document.getElementById('viewProcedureBtn').addEventListener('click', viewProcedure);
  document.getElementById('backToExperimentBtn').addEventListener('click', backToExperiment);
  
  // Periodic table
  document.getElementById('openPeriodicBtn').addEventListener('click', openPeriodicTable);
  document.getElementById('closePeriodicBtn').addEventListener('click', closePeriodicTable);
  
  // Close modal on outside click
  window.addEventListener('click', function(e) {
    const modal = document.getElementById('periodicModal');
    if (e.target === modal) {
      closePeriodicTable();
    }
  });
}

// Email validation and login
function handleLogin() {
  const email = document.getElementById('loginEmail').value.trim();
  const password = document.getElementById('loginPassword').value.trim();
  const emailError = document.getElementById('emailError');
  const passwordError = document.getElementById('passwordError');
  
  // Reset errors
  emailError.style.display = 'none';
  passwordError.style.display = 'none';
  
  let isValid = true;
  
  // Validate email
  if (!email) {
    emailError.textContent = 'Email is required';
    emailError.style.display = 'block';
    isValid = false;
  } else if (!validateEmail(email)) {
    emailError.textContent = 'Please enter a valid email address';
    emailError.style.display = 'block';
    isValid = false;
  }
  
  // Validate password
  if (!password) {
    passwordError.textContent = 'Password is required';
    passwordError.style.display = 'block';
    isValid = false;
  }
  
  if (isValid) {
    // Simulate successful login
    currentUser = {
      name: email.split('@')[0].toUpperCase(),
      email: email
    };
    
    studentNameEl.textContent = currentUser.name;
    profileAvatar.textContent = currentUser.name.substring(0, 2);
    
    loginPage.style.display = 'none';
    dashboardPage.style.display = 'block';
    renderExperiments(experiments);
  }
}

// Signup handling
function handleSignup() {
  const name = document.getElementById('signupName').value.trim();
  const email = document.getElementById('signupEmail').value.trim();
  const password = document.getElementById('signupPassword').value.trim();
  
  const nameError = document.getElementById('nameError');
  const emailError = document.getElementById('signupEmailError');
  const passwordError = document.getElementById('signupPasswordError');
  
  // Reset errors
  nameError.style.display = 'none';
  emailError.style.display = 'none';
  passwordError.style.display = 'none';
  
  let isValid = true;
  
  if (!name) {
    nameError.style.display = 'block';
    isValid = false;
  }
  
  if (!email || !validateEmail(email)) {
    emailError.style.display = 'block';
    isValid = false;
  }
  
  if (!password || password.length < 6) {
    passwordError.style.display = 'block';
    isValid = false;
  }
  
  if (isValid) {
    alert('Account created successfully! Please login with your credentials.');
    showLoginPage();
  }
}

// Page navigation
function showSignupPage(e) {
  e.preventDefault();
  loginPage.style.display = 'none';
  signupPage.style.display = 'flex';
}

function showLoginPage(e) {
  if (e) e.preventDefault();
  signupPage.style.display = 'none';
  loginPage.style.display = 'flex';
}

function handleLogout() {
  currentUser = null;
  dashboardPage.style.display = 'none';
  experimentPage.style.display = 'none';
  loginPage.style.display = 'flex';
}

// Render experiments grid
function renderExperiments(experimentList) {
  experimentsGrid.innerHTML = '';
  experimentList.forEach(exp => {
    const card = document.createElement('div');
    card.className = 'experiment-card';
    card.innerHTML = `
      <div class="experiment-image" style="background: ${exp.bgColor};">${exp.image}</div>
      <div class="experiment-title">${exp.title}</div>
      <button class="start-btn" onclick="openExperiment(${exp.id})">Start Experiment</button>
    `;
    experimentsGrid.appendChild(card);
  });
}

// Search functionality
function handleSearch() {
  const query = document.getElementById('searchExperiments').value.toLowerCase();
  const filtered = experiments.filter(exp => 
    exp.title.toLowerCase().includes(query)
  );
  renderExperiments(filtered);
}

// Open specific experiment
function openExperiment(expId) {
  selectedExperimentId = expId;
  const experiment = experiments.find(e => e.id === expId);
  if (!experiment) return;
  
  // Set experiment title
  document.getElementById('experimentTitle').textContent = experiment.title;
  
  // Setup lab equipment for this experiment
  setupLabEquipment(experiment);
  
  // Setup chemical dropdowns
  setupChemicalDropdowns(experiment);
  
  // Navigate to experiment page
  dashboardPage.style.display = 'none';
  experimentPage.style.display = 'block';
  
  // Reset result area
  document.getElementById('resultVisualization').innerHTML = `
    <div style="text-align: center; color: #666; font-size: 18px;">
      ‚öóÔ∏è Ready to begin ${experiment.title}
    </div>
    <div class="reaction-animation" id="reactionAnimation"></div>
    <div class="formula-display" id="formulaDisplay"></div>
  `;
  
  // Reset stars
  resetPerformanceStars();
}

// Setup lab equipment based on experiment
function setupLabEquipment(experiment) {
  const labDesk = document.getElementById('labDesk');
  labDesk.style.background = experiment.bgColor;
  labDesk.innerHTML = '';
  
  experiment.equipment.forEach((equipment, index) => {
    const equipmentDiv = document.createElement('div');
    equipmentDiv.className = 'lab-equipment';
    equipmentDiv.innerHTML = `
      ${equipment}
      <div class="equipment-label">${getEquipmentName(equipment)}</div>
    `;
    labDesk.appendChild(equipmentDiv);
  });
}

// Get equipment name from emoji
function getEquipmentName(emoji) {
  const names = {
    'üß™': 'Test Tube',
    'üíß': 'Dropper',
    'üî¨': 'Microscope',
    'üìè': 'Burette',
    'üå°Ô∏è': 'Thermometer',
    '‚öóÔ∏è': 'Flask',
    'üî•': 'Burner',
    '‚ö°': 'Stirrer',
    'üì°': 'Spectrometer',
    'üí°': 'Light Source',
    'üìä': 'Computer',
    'üíø': 'Data Storage'
  };
  return names[emoji] || 'Equipment';
}

// Setup chemical dropdowns
function setupChemicalDropdowns(experiment) {
  const acidsContent = document.getElementById('acidsContent');
  const basesContent = document.getElementById('basesContent');
  
  // Populate acids dropdown
  acidsContent.innerHTML = '';
  experiment.acids.forEach(acid => {
    const item = document.createElement('div');
    item.className = 'dropdown-item';
    item.textContent = acid;
    item.onclick = () => selectChemical('acid', acid);
    acidsContent.appendChild(item);
  });
  
  // Populate bases dropdown
  basesContent.innerHTML = '';
  experiment.bases.forEach(base => {
    const item = document.createElement('div');
    item.className = 'dropdown-item';
    item.textContent = base;
    item.onclick = () => selectChemical('base', base);
    basesContent.appendChild(item);
  });
}

// Toggle dropdown
function toggleDropdown(type) {
  const content = document.getElementById(type + 'Content');
  content.classList.toggle('show');
  
  // Close other dropdown
  const other = type === 'acids' ? 'basesContent' : 'acidsContent';
  document.getElementById(other).classList.remove('show');
}

// Select chemical from dropdown
function selectChemical(type, chemical) {
  const btn = document.querySelector(`#${type}sDropdown .dropdown-btn`);
  btn.innerHTML = `${chemical} <span>‚ñº</span>`;
  document.getElementById(type + 'sContent').classList.remove('show');
}

// Start reaction with animation
function startReaction() {
  const volume = document.getElementById('volumeInput').value;
  const concentration = document.getElementById('concentrationInput').value;
  const temperature = document.getElementById('temperatureInput').value;
  
  if (!volume || !concentration || !temperature) {
    alert('Please fill all input fields before starting the reaction!');
    return;
  }
  
  const experiment = experiments.find(e => e.id === selectedExperimentId);
  const resultDiv = document.getElementById('resultVisualization');
  const animationDiv = document.getElementById('reactionAnimation');
  const formulaDiv = document.getElementById('formulaDisplay');
  
  // Show reaction progress
  resultDiv.innerHTML = `
    <div style="text-align: center; color: #1565c0; font-size: 18px;">
      üß™ Reaction in Progress...
    </div>
    <div class="reaction-animation" id="reactionAnimation"></div>
    <div class="formula-display" id="formulaDisplay"></div>
  `;
  
  // Create bubbling animation
  createBubblingAnimation();
  
  // Simulate reaction time
  setTimeout(() => {
    // Show results
    resultDiv.style.background = 'linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%)';
    resultDiv.innerHTML = `
      <div style="text-align: center; color: #2e7d32; font-size: 18px;">
        ‚úÖ Reaction Complete!
      </div>
      <div style="margin-top: 15px; color: #1565c0;">
        <strong>Volume:</strong> ${volume} mL<br>
        <strong>Concentration:</strong> ${concentration} M<br>
        <strong>Temperature:</strong> ${temperature} ¬∞C<br>
        <strong>Color Change:</strong> ${getColorChange(experiment.id)}
      </div>
      <div class="formula-display" id="formulaDisplay" style="display: block;">
        ${experiment.formula}
      </div>
    `;
    
    // Show performance score
    showPerformanceScore();
  }, 3000);
}

// Create bubbling animation
function createBubblingAnimation() {
  const animationDiv = document.getElementById('reactionAnimation');
  animationDiv.style.display = 'block';
  
  for (let i = 0; i < 10; i++) {
    setTimeout(() => {
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      bubble.style.left = Math.random() * 90 + '%';
      bubble.style.width = bubble.style.height = Math.random() * 20 + 10 + 'px';
      bubble.style.animationDelay = Math.random() * 2 + 's';
      animationDiv.appendChild(bubble);
      
      // Remove bubble after animation
      setTimeout(() => {
        bubble.remove();
      }, 2000);
    }, i * 200);
  }
}

// Get color change description based on experiment
function getColorChange(expId) {
  const colorChanges = {
    1: "Wine red to blue (EDTA endpoint)",
    2: "Colorless to pale pink (phenolphthalein)",
    3: "Colorless to pale pink (weak acid endpoint)",
    4: "Blue to brown (copper nanoparticles)",
    5: "Clear to blue-black (starch-iodine)",
    6: "Colorless to pale pink (permanganate)",
    7: "Clear to yellow-brown (resin formation)",
    8: "Yellow to orange (methyl orange)",
    9: "Absorption peak observed",
    10: "IR spectrum peaks identified",
    11: "Clear to precipitate formation",
    12: "Green to yellow-orange (dichromate)"
  };
  return colorChanges[expId] || "Color change observed";
}

// Show performance score with animation
function showPerformanceScore() {
  const stars = ['star1', 'star2', 'star3', 'star4', 'star5'];
  const score = Math.floor(Math.random() * 2) + 4; // 4 or 5 stars
  
  stars.forEach((starId, index) => {
    setTimeout(() => {
      const star = document.getElementById(starId);
      if (index < score) {
        star.textContent = '‚≠ê';
        star.classList.add('filled');
      }
    }, index * 300);
  });
}

// Reset performance stars
function resetPerformanceStars() {
  const stars = ['star1', 'star2', 'star3', 'star4', 'star5'];
  stars.forEach(starId => {
    const star = document.getElementById(starId);
    star.textContent = '‚òÜ';
    star.classList.remove('filled');
  });
}

// View procedure
function viewProcedure() {
  const steps = procedures[selectedExperimentId] || ['No procedure available for this experiment.'];
  const stepsContainer = document.getElementById('procedureSteps');
  
  stepsContainer.innerHTML = steps.map(step => `<li>${step}</li>`).join('');
  document.getElementById('procedurePanel').style.display = 'block';
}

// Back to experiment
function backToExperiment() {
  document.getElementById('procedurePanel').style.display = 'none';
}

// Generate periodic table
function generatePeriodicTable() {
  const periodicTableGrid = document.getElementById('periodicTableGrid');
  
  // Clear existing content
  periodicTableGrid.innerHTML = '';
  
  // Generate elements
  periodicElements.forEach(element => {
    const elementDiv = document.createElement('div');
    elementDiv.className = 'element';
    elementDiv.style.gridColumn = element.group;
    elementDiv.style.gridRow = element.period;
    
    elementDiv.innerHTML = `
      <div class="atomic-number">${element.number}</div>
      <div class="symbol">${element.symbol}</div>
      <div class="element-name">${element.name}</div>
    `;
    
    elementDiv.addEventListener('click', () => showElementDetails(element));
    periodicTableGrid.appendChild(elementDiv);
  });
}

// Show element details
function showElementDetails(element) {
  const elementInfo = document.getElementById('elementInfo');
  const elementDetails = document.getElementById('elementDetails');
  const selectedElementName = document.getElementById('selectedElementName');
  
  selectedElementName.textContent = `${element.name} (${element.symbol})`;
  
  elementDetails.innerHTML = `
    <div class="detail-item">
      <div class="detail-label">Atomic Number</div>
      <div class="detail-value">${element.number}</div>
    </div>
    <div class="detail-item">
      <div class="detail-label">Symbol</div>
      <div class="detail-value">${element.symbol}</div>
    </div>
    <div class="detail-item">
      <div class="detail-label">Atomic Mass</div>
      <div class="detail-value">${element.mass} u</div>
    </div>
    <div class="detail-item">
      <div class="detail-label">Group</div>
      <div class="detail-value">${element.group}</div>
    </div>
    <div class="detail-item">
      <div class="detail-label">Period</div>
      <div class="detail-value">${element.period}</div>
    </div>
  `;
  
  elementInfo.classList.add('show');
}

// Open periodic table modal
function openPeriodicTable() {
  document.getElementById('periodicModal').style.display = 'block';
}

// Close periodic table modal
function closePeriodicTable() {
  document.getElementById('periodicModal').style.display = 'none';
}

// Close dropdowns when clicking outside
document.addEventListener('click', function(e) {
  if (!e.target.closest('.dropdown')) {
    document.querySelectorAll('.dropdown-content').forEach(content => {
      content.classList.remove('show');
    });
  }
});

// Prevent form submission on Enter key
document.addEventListener('keydown', function(e) {
  if (e.key === 'Enter' && e.target.tagName === 'INPUT') {
    e.preventDefault();
    if (e.target.closest('#loginPage')) {
      handleLogin();
    } else if (e.target.closest('#signupPage')) {
      handleSignup();
    }
  }
});
</script>

</body>
</html>
